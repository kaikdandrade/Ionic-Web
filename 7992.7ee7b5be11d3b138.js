"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7992],{7992:(I,g,r)=>{r.r(g),r.d(g,{HomePageModule:()=>H});var l=r(6814),h=r(95),n=r(7852),m=r(7030),o=r(9468),d=r(4073),f=r(9026),p=r(553);function Z(t,u){if(1&t){const e=o.EpF();o.TgZ(0,"ion-accordion",8)(1,"ion-item",9)(2,"ion-label"),o._uU(3),o.qZA()(),o.TgZ(4,"div",10),o.NdJ("click",function(){const c=o.CHM(e).index,i=o.oxw(2);return o.KtG(i.viewDoc(i.documentsId[c]))}),o.TgZ(5,"ion-card")(6,"ion-card-header"),o._UZ(7,"img",11),o.qZA(),o.TgZ(8,"ion-card-content")(9,"p")(10,"strong"),o._uU(11,"Nome: "),o.qZA(),o._uU(12),o.qZA(),o.TgZ(13,"p")(14,"strong"),o._uU(15,"Localiza\xe7\xe3o: "),o.qZA(),o._uU(16),o.qZA(),o.TgZ(17,"p")(18,"strong"),o._uU(19,"Descri\xe7\xe3o: "),o.qZA(),o._uU(20),o.qZA()()()()()}if(2&t){const e=u.$implicit,s=o.oxw(2);o.xp6(3),o.Oqu(e.name),o.xp6(4),o.s9C("src",e.imagem.url,o.LSH),o.MGl("alt","Imagem do documento ",e.name,""),o.xp6(5),o.hij(" ",s.general.formatText(e.name),""),o.xp6(4),o.Oqu(s.general.formatText(e.location)),o.xp6(4),o.Oqu(s.general.formatText(e.description))}}function v(t,u){if(1&t&&(o.TgZ(0,"ion-accordion-group")(1,"ion-item"),o._uU(2,"Lista de documentos"),o.qZA(),o.YNc(3,Z,21,6,"ion-accordion",7),o.qZA()),2&t){const e=o.oxw();o.xp6(3),o.Q6J("ngForOf",e.documents)}}function x(t,u){1&t&&(o.TgZ(0,"ion-card")(1,"ion-card-content")(2,"p"),o._uU(3,"Nenhum documento encontrado."),o.qZA(),o.TgZ(4,"p"),o._uU(5,"Cadastre um novo clicando no bot\xe3o abaixo."),o.qZA(),o.TgZ(6,"ion-button",12),o._UZ(7,"ion-icon",13),o._uU(8," Novo documento "),o.qZA()()())}const A=[{path:"",component:(()=>{class t{constructor(){this.env=p.N,this.firestore=(0,o.f3M)(d.gg),this.router=(0,o.f3M)(m.F0),this.general=(0,o.f3M)(f.m),this.Collection=(0,d.hJ)(this.firestore,"documents"),this.unsubscribeSnapshot=null,this.documentsId=new Array,this.documents=new Array}ngOnInit(){this.getDocuments()}ngOnDestroy(){this.documents=[],this.documentsId=[],this.unsubscribeSnapshot&&this.unsubscribeSnapshot()}getDocuments(){this.documents=[],this.documentsId=[],this.unsubscribeSnapshot&&this.unsubscribeSnapshot();const e=(0,d.IO)(this.Collection,(0,d.ar)("status","==","received"),(0,d.Xo)("date","asc"));(0,d.cf)(e,a=>{a.docChanges().forEach(c=>{if(console.log(c.doc),"added"===c.type&&(this.documentsId.push(c.doc.id),this.documents.push(c.doc.data())),"modified"===c.type)for(let i=0;i<this.documentsId.length;i++)if(this.documentsId[i]===c.doc.id){this.documents.splice(i,1),this.documents.splice(i,0,c.doc.data());break}if("removed"===c.type){for(let i=0;i<this.documents.length;i++)if(this.arraysEqual(this.documents[i],c.doc.data())){this.documents.splice(i,1);break}for(let i=0;i<this.documentsId.length;i++)if(this.documentsId[i]===c.doc.id){this.documentsId.splice(i,1);break}}})})}arraysEqual(e,s){if(e.length!==s.length)return!1;for(let a=0;a<e.length;a++)if(e[a]!==s[a])return!1;return!0}viewDoc(e){this.router.navigate(["/view"],{state:{index:e}})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-home"]],decls:15,vars:5,consts:[[3,"translucent"],["slot","start"],[1,"ion-text-center"],["name","home","slot","end","size","large",1,"ion-margin"],[1,"ion-padding"],[4,"ngIf"],["target","_blank","title","copyright",3,"href"],["style","cursor: pointer;",4,"ngFor","ngForOf"],[2,"cursor","pointer"],["slot","header"],["slot","content",1,"ion-padding",3,"click"],[2,"width","100px",3,"src","alt"],["routerLink","/addDoc"],["name","document-text","slot","start"]],template:function(e,s){1&e&&(o.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),o._UZ(3,"ion-menu-button"),o.qZA(),o.TgZ(4,"ion-title",2),o._uU(5,"\xcdnicio"),o.qZA(),o._UZ(6,"ion-icon",3),o.qZA()(),o.TgZ(7,"ion-content",4),o.YNc(8,v,4,1,"ion-accordion-group",5),o.YNc(9,x,9,0,"ion-card",5),o.qZA(),o.TgZ(10,"ion-footer")(11,"ion-toolbar")(12,"ion-title",2)(13,"a",6),o._uU(14),o.qZA()()()()),2&e&&(o.Q6J("translucent",!0),o.xp6(8),o.Q6J("ngIf",s.documents.length>0),o.xp6(1),o.Q6J("ngIf",0===s.documents.length),o.xp6(4),o.Q6J("href",s.env.authorUrl,o.LSH),o.xp6(1),o.hij("\xa9 2023 ",s.env.author,"."))},dependencies:[l.sg,l.O5,n.We,n.eh,n.YG,n.Sm,n.PM,n.FN,n.Zi,n.W2,n.fr,n.Gu,n.gu,n.Ie,n.Q$,n.fG,n.wd,n.sr,n.YI,m.rH]}),t})()}];let T=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[m.Bz.forChild(A),m.Bz]}),t})(),H=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[l.ez,h.u5,n.Pc,T]}),t})()}}]);